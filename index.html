<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Push-Up Counter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'gym-dark': '#1a1a1a',
                        'gym-darker': '#0f0f0f',
                        'gym-orange': '#ff6b35',
                        'gym-orange-dark': '#e55a2b',
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gym-dark text-white min-h-screen">
    <!-- Header -->
    <header class="bg-gym-darker shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <h1 class="text-3xl font-bold text-center text-gym-orange">ðŸ’ª Push-Up Counter</h1>
            <p class="text-center text-gray-400 mt-2">AI-Powered Fitness Tracker</p>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Demo Notice -->
        <div class="bg-yellow-900 border border-yellow-600 text-yellow-200 px-4 py-3 rounded mb-6">
            <div class="flex items-center">
                <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                </svg>
                <strong>Demo Mode:</strong> This is a frontend demonstration. Camera functionality requires OpenCV and MediaPipe which aren't available in this environment.
            </div>
        </div>

        <div class="grid lg:grid-cols-3 gap-8">
            <!-- Video Feed Section -->
            <div class="lg:col-span-2">
                <div class="bg-gym-darker rounded-lg p-6 shadow-xl">
                    <h2 class="text-xl font-semibold mb-4 text-gym-orange">ðŸ“¹ Camera Feed</h2>
                    <div class="relative bg-black rounded-lg overflow-hidden aspect-video flex items-center justify-center">
                        <div class="text-center">
                            <div class="w-16 h-16 mx-auto mb-4 bg-gray-700 rounded-full flex items-center justify-center">
                                <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                                </svg>
                            </div>
                            <p class="text-gray-400">Camera feed would appear here</p>
                            <p class="text-sm text-gray-500 mt-2">In full version: Live pose detection with MediaPipe</p>
                        </div>
                    </div>
                </div>

                <!-- Controls -->
                <div class="bg-gym-darker rounded-lg p-6 shadow-xl mt-6">
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button id="startBtn" class="bg-gym-orange hover:bg-gym-orange-dark text-white font-bold py-3 px-8 rounded-lg transition-colors duration-200 flex items-center justify-center">
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h1.5a1.5 1.5 0 011.5 1.5V12a1.5 1.5 0 01-1.5 1.5H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            Start Session
                        </button>
                        <button id="stopBtn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg transition-colors duration-200 flex items-center justify-center" disabled>
                            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"></path>
                            </svg>
                            Stop Session
                        </button>
                    </div>
                </div>
            </div>

            <!-- Stats Panel -->
            <div class="space-y-6">
                <!-- Current Stats -->
                <div class="bg-gym-darker rounded-lg p-6 shadow-xl">
                    <h2 class="text-xl font-semibold mb-4 text-gym-orange">ðŸ“Š Current Session</h2>
                    
                    <!-- Push-up Count -->
                    <div class="text-center mb-6">
                        <div class="text-5xl font-bold text-gym-orange mb-2" id="pushupCount">0</div>
                        <div class="text-gray-400">Push-ups</div>
                    </div>

                    <!-- Progress Bar -->
                    <div class="mb-4">
                        <div class="flex justify-between text-sm text-gray-400 mb-2">
                            <span>Rep Progress</span>
                            <span id="progressPercent">0%</span>
                        </div>
                        <div class="w-full bg-gray-700 rounded-full h-3">
                            <div class="bg-gym-orange h-3 rounded-full transition-all duration-300" style="width: 0%" id="progressBar"></div>
                        </div>
                    </div>

                    <!-- Session Time -->
                    <div class="flex justify-between items-center py-2 border-t border-gray-700">
                        <span class="text-gray-400">Session Time</span>
                        <span class="font-semibold" id="sessionTime">00:00</span>
                    </div>

                    <!-- Average Rate -->
                    <div class="flex justify-between items-center py-2">
                        <span class="text-gray-400">Avg/Min</span>
                        <span class="font-semibold" id="avgRate">0.0</span>
                    </div>

                    <!-- Status -->
                    <div class="flex justify-between items-center py-2">
                        <span class="text-gray-400">Status</span>
                        <span class="font-semibold text-red-400" id="status">Stopped</span>
                    </div>
                </div>

                <!-- Instructions -->
                <div class="bg-gym-darker rounded-lg p-6 shadow-xl">
                    <h2 class="text-xl font-semibold mb-4 text-gym-orange">ðŸ“‹ Instructions</h2>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li class="flex items-start">
                            <span class="text-gym-orange mr-2">1.</span>
                            Position yourself in front of the camera
                        </li>
                        <li class="flex items-start">
                            <span class="text-gym-orange mr-2">2.</span>
                            Get into push-up starting position
                        </li>
                        <li class="flex items-start">
                            <span class="text-gym-orange mr-2">3.</span>
                            Click "Start Session" to begin
                        </li>
                        <li class="flex items-start">
                            <span class="text-gym-orange mr-2">4.</span>
                            Perform push-ups with proper form
                        </li>
                        <li class="flex items-start">
                            <span class="text-gym-orange mr-2">5.</span>
                            AI will automatically count your reps
                        </li>
                    </ul>
                </div>

                <!-- Tips -->
                <div class="bg-gym-darker rounded-lg p-6 shadow-xl">
                    <h2 class="text-xl font-semibold mb-4 text-gym-orange">ðŸ’¡ Tips</h2>
                    <ul class="space-y-2 text-sm text-gray-300">
                        <li>â€¢ Ensure good lighting</li>
                        <li>â€¢ Keep your full body in frame</li>
                        <li>â€¢ Maintain proper push-up form</li>
                        <li>â€¢ Go all the way down and up</li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <script>
        let isRunning = false;
        let startTime = null;
        let sessionTimer = null;
        let pushupCount = 0;
        let currentProgress = 0;

        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');
        const pushupCountEl = document.getElementById('pushupCount');
        const progressBar = document.getElementById('progressBar');
        const progressPercent = document.getElementById('progressPercent');
        const sessionTimeEl = document.getElementById('sessionTime');
        const avgRateEl = document.getElementById('avgRate');
        const statusEl = document.getElementById('status');

        // Demo simulation
        let demoInterval = null;
        let progressDirection = 1;

        function startSession() {
            isRunning = true;
            startTime = Date.now();
            pushupCount = 0;
            currentProgress = 0;
            
            startBtn.disabled = true;
            stopBtn.disabled = false;
            statusEl.textContent = 'Active';
            statusEl.className = 'font-semibold text-green-400';
            
            // Start session timer
            sessionTimer = setInterval(updateSessionTime, 1000);
            
            // Start demo simulation
            demoInterval = setInterval(simulateProgress, 100);
            
            updateDisplay();
        }

        function stopSession() {
            isRunning = false;
            
            startBtn.disabled = false;
            stopBtn.disabled = true;
            statusEl.textContent = 'Stopped';
            statusEl.className = 'font-semibold text-red-400';
            
            if (sessionTimer) {
                clearInterval(sessionTimer);
                sessionTimer = null;
            }
            
            if (demoInterval) {
                clearInterval(demoInterval);
                demoInterval = null;
            }
        }

        function simulateProgress() {
            // Simulate push-up progress for demo
            currentProgress += progressDirection * 2;
            
            if (currentProgress >= 100) {
                currentProgress = 100;
                progressDirection = -1;
                // Complete rep
                setTimeout(() => {
                    if (currentProgress >= 95) {
                        pushupCount += 0.5;
                        updateDisplay();
                    }
                }, 100);
            } else if (currentProgress <= 0) {
                currentProgress = 0;
                progressDirection = 1;
                // Complete rep
                setTimeout(() => {
                    if (currentProgress <= 5) {
                        pushupCount += 0.5;
                        updateDisplay();
                    }
                }, 100);
            }
            
            progressBar.style.width = currentProgress + '%';
            progressPercent.textContent = Math.round(currentProgress) + '%';
        }

        function updateSessionTime() {
            if (!startTime) return;
            
            const elapsed = Math.floor((Date.now() - startTime) / 1000);
            const minutes = Math.floor(elapsed / 60);
            const seconds = elapsed % 60;
            
            sessionTimeEl.textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Update average rate
            if (elapsed > 0) {
                const avgPerMin = (Math.floor(pushupCount) / elapsed * 60).toFixed(1);
                avgRateEl.textContent = avgPerMin;
            }
        }

        function updateDisplay() {
            pushupCountEl.textContent = Math.floor(pushupCount);
        }

        // Event listeners
        startBtn.addEventListener('click', startSession);
        stopBtn.addEventListener('click', stopSession);

        // Initialize display
        updateDisplay();
    </script>
</body>
</html>